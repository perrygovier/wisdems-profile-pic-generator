webpackJsonp([1],{"/0vn":function(t,e,n){var i=n("DqV2");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("68b79772",i,!1,{sourceMap:!1})},"/TYz":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("hHqZ"),a=n("rGQh"),o=!1;var s=function(t){o||n("/0vn")},r=n("VU/8")(i.a,a.a,!1,s,"data-v-2a183b29",null);r.options.__file="pages/index.vue",e.default=r.exports},"62cQ":function(t,e,n){"use strict";e.a={props:["image","overlay"],mounted:function(){}}},"7tXS":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"",""])},DqV2:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"input[data-v-2a183b29]{opacity:0;position:absolute;height:0;width:0}button[data-v-2a183b29]{margin-top:4px;margin-top:.25rem}",""])},ZZhQ:function(t,e,n){var i=n("7tXS");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("7f46f938",i,!1,{sourceMap:!1})},hHqZ:function(t,e,n){"use strict";var i=n("Dd8w"),a=n.n(i),o=n("NYxO"),s=n("xhUj"),r=n("Mxx2");e.a={components:{Photo:s.a},data:function(){return{uploading:!1}},computed:a()({},Object(o.mapState)({image:function(t){return t.image},title:function(t){return t.content.steps.index.title},prompt:function(t){return t.content.steps.index.prompt},avatars:function(t){return t.content.avatars},overlay:function(t){return t.content.overlay.lg},buttons:function(t){return t.content.steps.index.buttons},facebook:function(t){return t.facebook}})),methods:a()({},Object(o.mapActions)(["uploadFile","useImage"]),Object(o.mapMutations)({addError:"addError",setOrientation:"setOrientation",setSelectedStep:"setSelectedStep",facebookResponse:"facebook/response"}),{getProfilePic:function(){var t=this;this.uploading=!0,r.a.getProfilePicture(this.facebook.authResponse).then(function(e){t.useImage(e)}).catch(function(e){t.uploading=!1,console.error("Facebook profile pic",e)})},useProfilePic:function(){var t=this;this.facebook.connected?this.getProfilePic():r.a.login().then(function(e){t.facebookResponse(e.response),t.getProfilePic()}).catch(function(t){console.error("Facebook login",t)})},filesChange:function(t){this.uploading=!0,console.log(t);var e=t?t[0]:null;if(e)if(e.type.match("image.*")){var i=n("sbrb"),a=this;i.getData(e,function(){a.setOrientation(i.getTag(this,"Orientation"))}),this.uploadFile(e)}else this.addError(new Error("File is not an image"));else this.addError(new Error("No file"))}}),watch:{image:function(t,e){t&&this.$router.push("edit")}},mounted:function(){this.setSelectedStep("index")}}},rGQh:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-two-thirds"},[n("label",{attrs:{for:"file"}},[n("photo",{class:{"is-static":t.uploading},attrs:{image:t.avatars[0],overlay:t.overlay}})],1)]),n("div",{staticClass:"column"},[n("header",[n("h1",{staticClass:"title"},[t._v("\n        "+t._s(t.title)+"\n      ")]),n("p",[t._v("\n        "+t._s(t.prompt)+"\n      ")])]),n("div",{staticClass:"actions has-text-centered"},[n("label",{staticClass:"button is-primary",class:{"is-loading":t.uploading},attrs:{for:"file"}},[n("span",[t._v(t._s(t.buttons.default.label)+"Â ")]),n("span",{staticClass:" icon "},[n("i",{class:["fa",t.buttons.default.icon]})])])])]),n("input",{attrs:{type:"file",accept:"image/*",name:"file",id:"file"},on:{change:function(e){return t.filesChange(e.target.files)}}})])};i._withStripped=!0;var a={render:i,staticRenderFns:[]};e.a=a},ukXh:function(t,e,n){"use strict";var i=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"image is-16by9"},[e("img",{attrs:{src:this.image}}),this.overlay?e("img",{attrs:{src:this.overlay}}):this._e()])};i._withStripped=!0;var a={render:i,staticRenderFns:[]};e.a=a},xhUj:function(t,e,n){"use strict";var i=n("62cQ"),a=n("ukXh"),o=!1;var s=function(t){o||n("ZZhQ")},r=n("VU/8")(i.a,a.a,!1,s,"data-v-5a96fe32",null);r.options.__file="components/Photo.vue",e.a=r.exports}});