webpackJsonp([1],{"/TYz":function(t,e,i){"use strict";function a(t){i("SZ76")}Object.defineProperty(e,"__esModule",{value:!0});var n=i("rPYw"),s=i("Vban"),o=i("VU/8"),r=a,c=o(n.a,s.a,r,"data-v-042d2e01",null);e.default=c.exports},"7oyR":function(t,e,i){var a=i("NXTJ");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("c33e2fec",a,!0)},Jsqd:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"image is-16by9"},[i("img",{class:{grayscale:t.overlay},attrs:{src:t.image}}),t.overlay?i("img",{attrs:{src:t.overlay}}):t._e()])},n=[],s={render:a,staticRenderFns:n};e.a=s},NXTJ:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,'.grayscale[data-v-eb04d5e2]{filter:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg"><filter id="filter"><feColorMatrix type="matrix" color-interpolation-filters="sRGB" values="0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0" /></filter></svg>#filter\');-webkit-filter:grayscale(100%);filter:grayscale(100%)}',""])},SZ76:function(t,e,i){var a=i("qcFi");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("rjj0")("3b0f2d15",a,!0)},Vban:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"columns"},[i("div",{staticClass:"column is-two-thirds"},[i("label",{attrs:{for:"file"}},[i("photo",{class:{"is-static":t.uploading},attrs:{image:t.avatars[0],overlay:t.overlay}})],1)]),i("div",{staticClass:"column"},[i("header",[i("h1",{staticClass:"title"},[t._v("\n        "+t._s(t.title)+"\n      ")]),i("p",[t._v("\n        "+t._s(t.prompt)+"\n      ")])]),i("div",{staticClass:"actions has-text-centered"},[i("label",{staticClass:"button is-primary",class:{"is-loading":t.uploading},attrs:{for:"file"}},[i("span",[t._v(t._s(t.buttons.default.label)+"Â ")]),i("span",{staticClass:" icon "},[i("i",{class:["fa",t.buttons.default.icon]})])]),i("button",{staticClass:"button is-link is-small",class:{"is-static":t.uploading||!t.facebook.initialized},on:{click:t.useProfilePic}},[t._v(t._s(t.buttons.facebook.label))])])]),i("input",{attrs:{type:"file",accept:"image/*",name:"file",id:"file"},on:{change:function(e){t.filesChange(e.target.files)}}})])},n=[],s={render:a,staticRenderFns:n};e.a=s},YsGF:function(t,e,i){"use strict";e.a={props:["image","overlay"],mounted:function(){}}},qcFi:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,"input[data-v-042d2e01]{opacity:0;position:absolute;height:0;width:0}button[data-v-042d2e01]{margin-top:4px;margin-top:.25rem}",""])},rPYw:function(t,e,i){"use strict";var a=i("Dd8w"),n=i.n(a),s=i("NYxO"),o=i("xhUj"),r=i("Mxx2");e.a={components:{Photo:o.a},data:function(){return{uploading:!1}},computed:n()({},Object(s.mapState)({image:function(t){return t.image},title:function(t){return t.content.steps.index.title},prompt:function(t){return t.content.steps.index.prompt},avatars:function(t){return t.content.avatars},overlay:function(t){return t.content.overlay.lg},buttons:function(t){return t.content.steps.index.buttons},facebook:function(t){return t.facebook}})),methods:n()({},Object(s.mapActions)(["uploadFile","useImage"]),Object(s.mapMutations)({addError:"addError",setOrientation:"setOrientation",setSelectedStep:"setSelectedStep",facebookResponse:"facebook/response"}),{getProfilePic:function(){var t=this;this.uploading=!0,r.a.getProfilePicture(this.facebook.authResponse).then(function(e){t.useImage(e)}).catch(function(e){t.uploading=!1,console.error("Facebook profile pic",e)})},useProfilePic:function(){var t=this;this.facebook.connected?this.getProfilePic():r.a.login().then(function(e){t.facebookResponse(e.response),t.getProfilePic()}).catch(function(t){console.error("Facebook login",t)})},filesChange:function(t){this.uploading=!0;var e=t?t[0]:null;if(!e)return void this.addError(new Error("No file"));if(!e.type.match("image.*"))return void this.addError(new Error("File is not an image"));var a=i("sbrb"),n=this;a.getData(e,function(){n.setOrientation(a.getTag(this,"Orientation"))}),this.uploadFile(e)}}),watch:{image:function(t,e){t&&this.$router.push("edit")}},mounted:function(){this.setSelectedStep("index")}}},xhUj:function(t,e,i){"use strict";function a(t){i("7oyR")}var n=i("YsGF"),s=i("Jsqd"),o=i("VU/8"),r=a,c=o(n.a,s.a,r,"data-v-eb04d5e2",null);e.a=c.exports}});
//# sourceMappingURL=index.2b9a21bf870d14c38eb5.js.map